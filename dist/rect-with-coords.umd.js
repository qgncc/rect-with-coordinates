(function(e,i){typeof exports=="object"&&typeof module<"u"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(e=typeof globalThis<"u"?globalThis:e||self,i(e["rect-with-coords"]={}))})(this,function(e){"use strict";var X=Object.defineProperty;var Y=(e,i,c)=>i in e?X(e,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):e[i]=c;var g=(e,i,c)=>(Y(e,typeof i!="symbol"?i+"":i,c),c);const i=n=>parseInt(n),c=n=>{const o=getComputedStyle(n);return{top:i(o.borderTopWidth),right:i(o.borderRightWidth),bottom:i(o.borderBottomWidth),left:i(o.borderLeftWidth)}},h=(n,o)=>n!==void 0?n:o,l=n=>h(n,0),B=n=>h(n,null),p=n=>h(n,""),w=n=>h(n,[]),E=n=>h(n,{}),y=n=>h(n,!0);class V{constructor(o){g(this,"bounds");g(this,"fullWidth");g(this,"fullHeight");g(this,"innerWidth");g(this,"innerHeight");g(this,"origin");const{borderWidth:t,height:r,width:u,viewportPositionX:s,viewportPositionY:m,origin:f}=o;this.bounds={top:m+l(t==null?void 0:t.top),right:s+(u-l(t==null?void 0:t.right)),bottom:m+(r-l(t==null?void 0:t.bottom)),left:s+l(t==null?void 0:t.left)},this.fullWidth=u,this.fullHeight=r,this.innerWidth=u-l(t==null?void 0:t.left)-l(t==null?void 0:t.right),this.innerHeight=r-l(t==null?void 0:t.top)-l(t==null?void 0:t.bottom),this.origin=f||[0,0]}cropByBounds(o,t){const[r,u]=o,[s,m]=t||this.origin,f=0-s,d=this.innerWidth-s,O=0-m,a=this.innerHeight-m,H=r<f?f:r>d?d:r,C=u<O?O:u>a?a:u;return[H,C]}transformViewportCoordinates(o,t){const r=y(t==null?void 0:t.noOutOfBounds),[u,s]=t!=null&&t.customOrigin?t.customOrigin:this.origin,[m,f]=o,d=m-this.bounds.left-u,O=f-this.bounds.top-s,a=[d,O];return r?this.cropByBounds(a,t==null?void 0:t.customOrigin):a}}class T extends V{constructor(t,r){const u=c(t),s=t.getBoundingClientRect();super({borderWidth:u,height:s.height,width:s.width,viewportPositionX:s.left,viewportPositionY:s.top,...r});g(this,"htmlElement");this.htmlElement=t}}e.HTMLElementWithCoordinates=T,e.RectWithCoordinates=V,e.getHTMLElementBorders=c,e.getValueOrDefault=h,e.getValueOrEmptyArray=w,e.getValueOrEmptyObject=E,e.getValueOrEmptyString=p,e.getValueOrNull=B,e.getValueOrTrue=y,e.getValueOrZero=l,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});
